<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
  <title>Constelaci√≥n de Nuestro Amor</title>

  <!-- TailwindCSS -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- tsParticles -->
  <script src="https://cdn.jsdelivr.net/npm/tsparticles@2.11.1/tsparticles.bundle.min.js"></script>

  <!-- GSAP -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>

  <!-- Fuente rom√°ntica -->
  <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&display=swap" rel="stylesheet">

  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background: #0f172a;
      overflow-x: hidden;
      touch-action: manipulation;
    }
    .font-romantic {
      font-family: 'Great Vibes', cursive;
    }
    .estrella {
      font-size: 6rem;
      cursor: pointer;
      animation: brillar 2s infinite ease-in-out;
      transition: transform 0.3s;
      user-select: none;
    }
    .estrella:hover {
      transform: scale(1.3);
    }
    @keyframes brillar {
      0%, 100% { opacity: 1; transform: scale(1); }
      50% { opacity: 0.8; transform: scale(1.1); }
    }
  </style>
</head>
<body class="relative min-h-screen flex flex-col">
  <!-- Part√≠culas de fondo -->
  <div id="particles-js" class="fixed inset-0 -z-10"></div>

  <!-- Popup inicial -->
  <div id="popup" class="fixed inset-0 bg-black bg-opacity-80 flex flex-col items-center justify-center text-center z-50 px-4">
    <h1 class="text-6xl font-romantic text-pink-300 mb-4">Salom√© ‚ú®</h1>
    <p class="text-white text-xl max-w-lg mb-6">El cielo guarda tres estrellas, una por cada mes que has iluminado mi vida con tu dulzura, tu ternura y tu forma de hacerme sentir tan cerca aunque estemos lejos. Esta p√°gina es para ti, para recordarte cu√°nto te amo y lo importante que eres. ¬øQuieres descubrirlas conmigo?</p>
    <button id="botonInicio" class="px-6 py-2 bg-pink-600 text-white rounded-full hover:bg-pink-700">Reproducir y Ver constelaci√≥n</button>
  </div>

  <!-- M√∫sica -->
  <audio id="musica" loop>
    <source src="musica.mp3" type="audio/mp3">
  </audio>

  <!-- Encabezado -->
  <div class="text-center mt-8 px-4">
    <h2 class="text-5xl font-romantic text-pink-400">La Constelaci√≥n de Nuestro Amor üåü</h2>
    <p class="text-gray-300 text-lg">Toca cada estrella y deja que el cielo te cuente lo que siento por ti...</p>
  </div>

  <!-- Estrellas -->
  <div id="estrellas" class="flex flex-col md:flex-row justify-center items-center gap-10 mt-12 px-4">
    <div class="text-center">
      <p class="text-white text-2xl font-romantic mb-2">Mes 1</p>
      <div class="estrella" onclick="mostrarNota(0)">‚≠ê</div>
    </div>
    <div class="text-center">
      <p class="text-white text-2xl font-romantic mb-2">Mes 2</p>
      <div class="estrella" onclick="mostrarNota(1)">üåü</div>
    </div>
    <div class="text-center">
      <p class="text-white text-2xl font-romantic mb-2">Mes 3</p>
      <div class="estrella" onclick="mostrarNota(2)">‚ú®</div>
    </div>
  </div>

  <!-- Estrella final (oculta al inicio) -->
  <div id="final-popup" class="fixed inset-0 bg-black bg-opacity-80 flex flex-col items-center justify-center text-center z-50 px-4 hidden">
    <p class="text-white text-2xl font-romantic mb-6">Ha aparecido una sorpresa!... termina la tercera estrella, baja un poco y m√≠rala üíñ</p>
    <button onclick="cerrarFinalPopup()" class="px-6 py-2 bg-pink-600 text-white rounded-full hover:bg-pink-700">Ver estrella final</button>
  </div>

  <div id="final-container" class="text-center mt-16 hidden">
    <p class="text-pink-200 text-2xl mb-4 animate-pulse font-romantic">Has descubierto cada estrella... toca esta para un √∫ltimo mensaje ‚ú®</p>
    <div class="estrella text-7xl animate-pulse" onclick="mostrarNota(3)">üíñ</div>
  </div>

  <!-- Nota -->
  <div id="nota" class="fixed bottom-10 left-1/2 transform -translate-x-1/2 bg-white p-6 rounded-xl shadow-xl max-w-sm w-full hidden z-40">
    <p id="textoNota" class="text-center text-gray-800 whitespace-pre-line text-lg leading-relaxed"></p>
    <button onclick="cerrarNota()" class="mt-4 mx-auto block px-4 py-1 bg-pink-500 text-white rounded hover:bg-pink-600">Cerrar</button>
  </div>

  <script>
    const botonInicio = document.getElementById("botonInicio");
    botonInicio.addEventListener("click", () => {
      document.getElementById('popup').style.display = 'none';
      const audio = document.getElementById('musica');
      audio.play().catch(() => console.log("Autoplay bloqueado"));
    });

    const notas = [
      `Ese primer mes fue como descubrir un universo oculto, uno donde t√∫ eras el sol y cada uno de tus mensajes era una peque√±a chispa que me devolv√≠a la esperanza. Aunque no pueda verte f√≠sicamente, tus palabras me abrazaban desde la distancia. Tu voz por llamada, tus mensajes de buenos d√≠as, tus bromas, tus penas... todo lo he guardado en mi mente como un tesoro. Fuiste calma en medio del caos, y desde ese momento supe que algo especial se estaba formando.`,

      `El segundo mes fue cuando el lazo se hizo m√°s fuerte. Ya no eras solo alguien que me gustaba: eras alguien que me importaba profundamente. Y cada noche, mientras te le√≠a o escuchaba, me sent√≠a m√°s cerca de ti que de nadie m√°s. Aunque la distancia a veces dol√≠a, hab√≠a algo en tu forma de compartir tu mundo conmigo que hac√≠a que la espera valiera la pena. Me fui acostumbrando a tenerte presente en mi d√≠a a d√≠a, como una constelaci√≥n que nunca cambia de lugar, que siempre est√° ah√≠ para guiarme.
       Incluso cuando por un momento todo pareci√≥ romperse, algo dentro de m√≠ nunca dej√≥ de buscar tu luz. Y volv√≠‚Ä¶ porque en mi universo, la estrella m√°s brillante siempre fuiste t√∫. Volv√≠ porque te amo, porque lo que siento no se apag√≥. Solo aprend√≠ a valorarte m√°s.`,

      `El tercer mes lleg√≥ con intensidad. Ya no solo te pensaba, ya te extra√±aba. Te imaginaba riendo, escribiendo, contando tus cosas. Tus ojos, aunque solo los vi por fotos o videos, los sent√≠a cerca. Me has dado motivos para mirar el cielo cada noche y pensar en ti. Has sido refugio, ilusi√≥n, y sobre todo, compa√±√≠a. Me enamor√© no solo de lo que eres, sino de lo que despiertas en m√≠. De lo que construimos sin siquiera tocarnos.`,

      `üåå Mi amor eterno\n
      Salom√©, tres meses contigo han sido un viaje profundo de emociones. No hay distancia capaz de reducir lo que siento por ti. Est√°s presente en cada momento de calma, en cada risa que me haces sacar, en cada silencio que llenas con tus "te amo". Esto es solo el inicio. Te amo por lo que eres y por lo que creamos, y s√© que cuando al fin nos abracemos, el universo mismo se estremecer√°. Por ahora, este cielo es nuestro. Tu universo, Josu√©.`
    ];

    let vistas = [false, false, false];

    function mostrarNota(i) {
      const nota = document.getElementById("nota");
      document.getElementById("textoNota").textContent = notas[i];
      nota.style.display = "block";
      gsap.fromTo(nota, {opacity: 0, y: 30}, {opacity: 1, y: 0, duration: 0.4});

      if (i < 3) {
        vistas[i] = true;
        if (vistas.every(v => v)) {
          document.getElementById('final-popup').classList.remove('hidden');
        }
      }
    }

    function cerrarNota() {
      const nota = document.getElementById("nota");
      gsap.to(nota, {opacity: 0, y: 30, duration: 0.3, onComplete: () => nota.style.display = 'none'});
    }

    function cerrarFinalPopup() {
      document.getElementById('final-popup').classList.add('hidden');
      document.getElementById('final-container').classList.remove('hidden');
      document.getElementById('final-container').scrollIntoView({ behavior: 'smooth' });
    }

    tsParticles.load("particles-js", {
      particles: {
        number: { value: 180 },
        color: { value: ["#ffffff", "#ffccff", "#99e6ff"] },
        shape: { type: "circle" },
        opacity: { value: 0.4 },
        size: { value: { min: 1, max: 3 } },
        move: {
          enable: true,
          speed: 0.2,
          direction: "none",
          outModes: { default: "out" }
        },
        twinkle: {
          particles: {
            enable: true,
            frequency: 0.05,
            opacity: 1
          }
        }
      },
      detectRetina: true
    });
  </script>
</body>
</html>
